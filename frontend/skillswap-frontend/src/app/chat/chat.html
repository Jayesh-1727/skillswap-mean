<div class="chat-container">

  <div class="chat-header">
    <h2>Session Chat</h2>
  </div>

  <div class="chat-messages" *ngIf="messages !== null">

    <div *ngIf="messages.length === 0" class="empty">
      No messages yet. Start the conversation!
    </div>

    <div *ngFor="let m of messages"
         class="message"
         [ngClass]="{
           'my-message': m.sender._id === currentUserId,
           'other-message': m.sender._id !== currentUserId
         }">

      <div class="bubble">
        <p>{{ m.text }}</p>
        <span class="time">
          {{ m.createdAt | date:'shortTime' }}
        </span>
      </div>

    </div>

  </div>

  <div class="chat-input">
    <input
      type="text"
      [(ngModel)]="newMessage"
      placeholder="Type a message..."
      (keyup.enter)="send()"
    />
    <button (click)="send()">Send</button>
  </div>

</div>
